---
path: /ru/part-7/1-modules
title: Модули
hidden: false
---

<text-box variant='learningObjectives' name="Цели обучения">

После этого раздела:

- вы будете знать, что такое модуль в Python
- вы сможете подключать модуль к программе с помощью инструкции `import`
- вы будете знать, где искать информацию о содержимом модулей

</text-box>

## Отладка: возвращаемся к теме {#debugging-revisited}

За время курса мы уже познакомились с несколькими способами отладки. Вам наверняка знаком [инструмент визуализации](http://www.pythontutor.com/visualize.html#mode=edit), а [отладочная печать](/ru/part-2/1-programming-terminology#debugging) стала привычным приёмом. Возможно, вы также пробовали [встроенный отладчик](/ru/part-4/1-vscode#the-built-in-debugger) Visual Studio Code. Если у вас возникали проблемы с тем, что отладчик «не находит» файлы, в [предыдущей части](/ru/part-6/1-reading-files#debugging-code-which-handles-files) были советы, как справляться с такими ситуациями.

Начиная с Python 3.7 появился ещё один простой и полезный инструмент отладки: команда [breakpoint()](https://docs.python.org/3/library/functions.html?highlight=breakpoint#breakpoint).

Эту команду можно вставить в любое место кода (разумеется, соблюдая синтаксис). При запуске программы выполнение остановится в месте, где вы вставили `breakpoint`. Ниже показан пример отладки при решении одного из заданий предыдущей части (пожалуйста, игнорируйте финские имена переменных на изображениях и сосредоточьтесь на сути):

<img src="7_1_1.png">

Когда выполнение останавливается на `breakpoint`, открывается интерактивная консоль. В ней можно выполнять команды так же, как в обычной консоли Python, и смотреть, что происходит с переменными и выражениями именно в этой точке программы.

Команда `breakpoint` особенно полезна, когда вы знаете, какая строка приводит к ошибке, но не понимаете, почему. Поставьте `breakpoint` прямо перед проблемной строкой и запустите программу. Теперь вы сможете попробовать разные варианты в интерактивной консоли и понять, какие команды и проверки нужно добавить в код.

Можно также продолжить выполнение с места остановки. Команда `continue` (или сокращённо `c`), введённая в отладочную консоль, продолжит выполнение до следующего брейкпоинта. На следующем изображении показана ситуация, когда цикл уже успел выполниться несколько раз:

<img src="7_1_2.png">

В отладочной консоли доступны и другие команды. Их можно посмотреть [в документации](https://docs.python.org/3/library/pdb.html#debugger-commands), либо просто ввести _help_ в отладочной консоли:

<img src="7_1_3.png">

Команда _exit_ завершает выполнение программы.

Когда вы закончите отладку, не забудьте удалить `breakpoint` из кода!

## Использование модулей {#using-modules}

В самом языке Python уже есть полезные функции — например, `len`, возвращающая длину строки или списка, или `sum`, вычисляющая сумму элементов структуры данных. Но одних этих функций мало. В Python есть _стандартная библиотека_ — набор стандартных функций и объектов, которые расширяют возможности языка. В предыдущих заданиях мы уже использовали некоторые функции из стандартной библиотеки, например при вычислении квадратного корня.

Стандартная библиотека состоит из _модулей_ — они содержат функции и классы, сгруппированные по темам и назначению. В этой части курса мы познакомимся с несколькими полезными модулями Python, а также научимся писать собственные модули.

Команда `import` делает содержимое модуля доступным в текущей программе. Рассмотрим работу с модулем `math`. В нём определены математические функции, например `sqrt` для квадратного корня и `log` для логарифма.


```python
import math

# Квадратный корень из 5
print(math.sqrt(5))
# Логарифм числа 8 по основанию 2
print(math.log(8, 2))
```

<sample-output>

2.23606797749979
3.0

</sample-output>

Так как функции определены в модуле `math`, в коде к ним обращаются как `math.sqrt` и `math.log`.

## Импорт отдельных объектов из модуля {#selecting-distinct-sections-from-a-module}

Другой способ использовать модули — выбрать отдельные объекты с помощью команды `from`. Если нам нужны только `sqrt` и `log` из `math`, можно написать так:

```python
from math import sqrt, log

print(sqrt(5))
print(log(5,2))
```

Как видно из примера, при таком импорте префикс `math` больше не нужен.

Иногда удобно импортировать _всё_ содержимое модуля с помощью звёздочки:

```python
from math import *

print(sqrt(5))
print(log(5,2))
```

Импорт «со звёздочкой» может быть удобен при тестировании и в небольших проектах, но он может создавать и новые проблемы. Мы ещё столкнёмся с этим позже.

<programming-exercise name='Гипотенуза' anchor="Hypotenuse" tmcname='part07-01_hypotenuse'>

Напишите функцию `hypotenuse(leg1: float, leg2: float)`, которая принимает длины двух катетов прямоугольного треугольника. Функция должна вернуть длину гипотенузы — стороны, лежащей напротив прямого угла.

Для вычисления можно использовать [теорему Пифагора](https://en.wikipedia.org/wiki/Pythagorean_theorem). Вам понадобится функция `sqrt` из модуля `math`.

Примеры:

```python
print(hypotenuse(3,4)) # 5.0
print(hypotenuse(5,12)) # 13.0
print(hypotenuse(1,1)) # 1.4142135623730951
```

</programming-exercise>

## Содержимое модуля {#the-contents-of-a-module}

В документации Python подробно описан каждый модуль стандартной библиотеки: какие функции и методы в нём есть и как ими пользоваться. Например, вот ссылка на документацию по `math`:

* https://docs.python.org/3/library/math.html

Содержимое модуля можно посмотреть и с помощью функции `dir`:

```python
import math

print(dir(math))
```

Функция возвращает список имён, определённых в модуле. Это могут быть, например, имена классов, констант или функций:

<sample-output>

['\_\_doc\_\_', '\_\_name\_\_', '\_\_package\_\_', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atan2', 'atanh', 'ceil', 'copysign', 'cos', 'cosh', 'degrees', 'e', 'erf', 'erfc', 'exp', 'expm1', 'fabs', 'factorial', 'floor', 'fmod', 'frexp', 'fsum', 'gamma', 'hypot', 'isinf', 'isnan', 'ldexp', 'lgamma', 'log', 'log10', 'log1p', 'modf', 'pi', 'pow', 'radians', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc']

</sample-output>

<programming-exercise name='Специальные символы' anchor="Special characters" tmcname='part07-02_special_characters'>

Модуль Python [string](https://docs.python.org/3/library/string.html) содержит строковые константы, описывающие некоторые группы символов. Например, там есть константы для латинских букв и знаков пунктуации. Ознакомьтесь с этими константами и напишите функцию `separate_characters(my_string: str)`. Функция принимает строку и должна разделить её символы на три строки, вернув их в виде кортежа:

* первая строка должна содержать строчные и прописные ASCII‑буквы (константа `ascii_letters`)
* вторая строка должна содержать все символы пунктуации из константы `punctuation`
* третья строка должна содержать все остальные символы (включая пробельные)

Символы в каждой из трёх строк должны идти в том же порядке, что и в исходной строке.

Пример работы функции:

```python
parts = separate_characters("Olé!!! Hey, are ümläüts wörking?")
print(parts[0])
print(parts[1])
print(parts[2])
```

<sample-output>

OlHeyaremltswrking
!!!,?
é  üäü ö 

</sample-output>

</programming-exercise>

<programming-exercise name='Дроби' anchor="Fractions" tmcname='part07-03_fractions'>

Ознакомьтесь с модулем Python `fractions`. Используя его, напишите функцию `fractionate(amount: int)`, которая принимает количество частей. Функция должна разделить число 1 на указанное количество равных дробей и вернуть список этих дробей.

Пример работы функции:

```python
for p in fractionate(3):
    print(p)

print()

print(fractionate(5))
```

<sample-output>

1/3
1/3
1/3

[Fraction(1, 5), Fraction(1, 5), Fraction(1, 5), Fraction(1, 5), Fraction(1, 5)]

</sample-output>

</programming-exercise>

<!---
<quiz id="94c034a1-3183-5682-acb0-7f126d26ba07"></quiz>
-->
